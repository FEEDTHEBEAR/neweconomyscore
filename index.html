<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SMS Score ‚Äî Signal Migration Score</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&display=swap');

  :root {
    --bg: #0a0b0d;
    --surface: #111318;
    --surface2: #181c24;
    --border: #1e2330;
    --accent: #00f5a0;
    --accent2: #00b8ff;
    --warn: #ff6b35;
    --text: #e8eaf0;
    --muted: #6b7280;
    --muted2: #4b5563;
    --gold: #f0c040;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Background grid */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(var(--border) 1px, transparent 1px),
      linear-gradient(90deg, var(--border) 1px, transparent 1px);
    background-size: 60px 60px;
    opacity: 0.4;
    pointer-events: none;
    z-index: 0;
  }

  /* Glow blob */
  body::after {
    content: '';
    position: fixed;
    top: -200px; left: 50%;
    transform: translateX(-50%);
    width: 800px; height: 600px;
    background: radial-gradient(ellipse, rgba(0,245,160,0.04) 0%, rgba(0,184,255,0.03) 40%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }

  .container {
    position: relative;
    z-index: 1;
    max-width: 900px;
    margin: 0 auto;
    padding: 0 24px;
  }

  /* Header */
  header {
    padding: 32px 0 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--border);
  }

  .logo {
    font-family: 'Space Mono', monospace;
    font-size: 13px;
    letter-spacing: 0.2em;
    color: var(--accent);
    text-transform: uppercase;
  }

  .logo span { color: var(--muted); }

  nav {
    display: flex;
    gap: 8px;
  }

  .nav-btn {
    background: none;
    border: 1px solid var(--border);
    color: var(--muted);
    padding: 6px 14px;
    border-radius: 4px;
    cursor: pointer;
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.1em;
    transition: all 0.2s;
  }

  .nav-btn:hover, .nav-btn.active {
    border-color: var(--accent);
    color: var(--accent);
    background: rgba(0,245,160,0.05);
  }

  /* Hero */
  .hero {
    padding: 72px 0 48px;
    text-align: center;
  }

  .hero-label {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.3em;
    color: var(--accent);
    text-transform: uppercase;
    margin-bottom: 20px;
    opacity: 0;
    animation: fadeUp 0.6s ease 0.1s forwards;
  }

  h1 {
    font-family: 'Space Mono', monospace;
    font-size: clamp(36px, 6vw, 64px);
    font-weight: 700;
    line-height: 1.05;
    letter-spacing: -0.02em;
    margin-bottom: 16px;
    opacity: 0;
    animation: fadeUp 0.6s ease 0.2s forwards;
  }

  h1 .highlight {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-sub {
    color: var(--muted);
    font-size: 16px;
    font-weight: 300;
    max-width: 520px;
    margin: 0 auto 40px;
    line-height: 1.6;
    opacity: 0;
    animation: fadeUp 0.6s ease 0.3s forwards;
  }

  /* Formula display */
  .formula-box {
    display: inline-block;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 12px 24px;
    font-family: 'Space Mono', monospace;
    font-size: 13px;
    color: var(--muted);
    margin-bottom: 48px;
    opacity: 0;
    animation: fadeUp 0.6s ease 0.4s forwards;
  }

  .formula-box .f-accent { color: var(--accent); }
  .formula-box .f-blue { color: var(--accent2); }
  .formula-box .f-gold { color: var(--gold); }

  /* Search box */
  .search-wrap {
    position: relative;
    max-width: 600px;
    margin: 0 auto;
    opacity: 0;
    animation: fadeUp 0.6s ease 0.5s forwards;
  }

  .search-row {
    display: flex;
    gap: 0;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    overflow: hidden;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .search-row:focus-within {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(0,245,160,0.08), 0 0 20px rgba(0,245,160,0.05);
  }

  .type-toggle {
    display: flex;
    border-right: 1px solid var(--border);
  }

  .type-btn {
    background: none;
    border: none;
    color: var(--muted);
    padding: 14px 14px;
    cursor: pointer;
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    letter-spacing: 0.1em;
    transition: all 0.15s;
    white-space: nowrap;
  }

  .type-btn.active {
    background: rgba(0,245,160,0.08);
    color: var(--accent);
  }

  #queryInput {
    flex: 1;
    background: none;
    border: none;
    outline: none;
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    font-size: 15px;
    padding: 14px 18px;
    min-width: 0;
  }

  #queryInput::placeholder { color: var(--muted2); }

  .search-btn {
    background: var(--accent);
    border: none;
    color: #000;
    padding: 14px 22px;
    cursor: pointer;
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.1em;
    transition: all 0.2s;
    white-space: nowrap;
  }

  .search-btn:hover { background: #00ffb0; }
  .search-btn:disabled { opacity: 0.5; cursor: default; }

  .search-hints {
    display: flex;
    gap: 8px;
    margin-top: 12px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .hint-chip {
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--muted);
    font-size: 12px;
    padding: 4px 10px;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.15s;
    font-family: 'Space Mono', monospace;
  }

  .hint-chip:hover {
    border-color: var(--accent2);
    color: var(--accent2);
    background: rgba(0,184,255,0.05);
  }

  /* Tabs */
  .page { display: none; }
  .page.active { display: block; }

  /* Results */
  #results {
    padding-bottom: 80px;
  }

  .results-header {
    padding: 40px 0 32px;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 16px;
  }

  .entity-info h2 {
    font-family: 'Space Mono', monospace;
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 4px;
  }

  .entity-meta {
    color: var(--muted);
    font-size: 13px;
    display: flex;
    gap: 12px;
    align-items: center;
  }

  .entity-tag {
    background: rgba(0,184,255,0.1);
    border: 1px solid rgba(0,184,255,0.2);
    color: var(--accent2);
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 3px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  .back-btn {
    background: none;
    border: 1px solid var(--border);
    color: var(--muted);
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    transition: all 0.2s;
    white-space: nowrap;
  }

  .back-btn:hover { border-color: var(--text); color: var(--text); }

  /* Score gauge area */
  .score-section {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 32px;
    align-items: center;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 32px;
    margin-bottom: 24px;
    position: relative;
    overflow: hidden;
  }

  .score-section::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
  }

  .gauge-wrap {
    position: relative;
    width: 160px;
    height: 160px;
    flex-shrink: 0;
  }

  .gauge-svg {
    transform: rotate(-90deg);
  }

  .gauge-bg {
    fill: none;
    stroke: var(--border);
    stroke-width: 10;
  }

  .gauge-fill {
    fill: none;
    stroke-width: 10;
    stroke-linecap: round;
    stroke-dasharray: 408;
    stroke-dashoffset: 408;
    transition: stroke-dashoffset 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .gauge-center {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .score-number {
    font-family: 'Space Mono', monospace;
    font-size: 36px;
    font-weight: 700;
    line-height: 1;
  }

  .score-label {
    font-size: 11px;
    color: var(--muted);
    letter-spacing: 0.1em;
    font-family: 'Space Mono', monospace;
    margin-top: 4px;
  }

  .score-details {
    flex: 1;
  }

  .score-details h3 {
    font-family: 'Space Mono', monospace;
    font-size: 13px;
    color: var(--muted);
    letter-spacing: 0.15em;
    text-transform: uppercase;
    margin-bottom: 16px;
  }

  .percentile-bar-wrap {
    margin-bottom: 20px;
  }

  .percentile-label {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    color: var(--muted);
    margin-bottom: 6px;
    font-family: 'Space Mono', monospace;
  }

  .percentile-val { color: var(--accent); }

  .bar-track {
    height: 6px;
    background: var(--border);
    border-radius: 3px;
    overflow: hidden;
  }

  .bar-fill {
    height: 100%;
    border-radius: 3px;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    width: 0;
    transition: width 1s ease 0.5s;
  }

  .transition-stage {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(0,245,160,0.06);
    border: 1px solid rgba(0,245,160,0.15);
    border-radius: 6px;
    padding: 8px 14px;
    margin-top: 4px;
  }

  .stage-dot {
    width: 7px; height: 7px;
    border-radius: 50%;
    background: var(--accent);
    box-shadow: 0 0 6px var(--accent);
  }

  .stage-text {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    color: var(--accent);
    letter-spacing: 0.08em;
  }

  /* Components grid */
  .components-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-bottom: 24px;
  }

  .component-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 20px;
    position: relative;
    overflow: hidden;
    transition: border-color 0.2s;
  }

  .component-card:hover { border-color: var(--muted2); }

  .comp-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 14px;
  }

  .comp-name {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--muted);
  }

  .comp-value {
    font-family: 'Space Mono', monospace;
    font-size: 22px;
    font-weight: 700;
  }

  .comp-bar-track {
    height: 4px;
    background: var(--border);
    border-radius: 2px;
    overflow: hidden;
  }

  .comp-bar-fill {
    height: 100%;
    border-radius: 2px;
    width: 0;
    transition: width 1s ease 0.7s;
  }

  .comp-desc {
    font-size: 12px;
    color: var(--muted);
    margin-top: 8px;
    line-height: 1.5;
  }

  /* Benchmark chart */
  .benchmark-section {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 28px;
    margin-bottom: 24px;
  }

  .section-title {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .section-title::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border);
  }

  .benchmark-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .bm-row {
    display: grid;
    grid-template-columns: 160px 1fr 56px;
    align-items: center;
    gap: 12px;
  }

  .bm-name {
    font-size: 13px;
    color: var(--text);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .bm-name.current {
    color: var(--accent);
    font-weight: 600;
  }

  .bm-bar-track {
    height: 8px;
    background: var(--border);
    border-radius: 4px;
    overflow: hidden;
  }

  .bm-bar-fill {
    height: 100%;
    border-radius: 4px;
    width: 0;
    transition: width 1s ease;
  }

  .bm-score {
    font-family: 'Space Mono', monospace;
    font-size: 13px;
    text-align: right;
  }

  /* Tips section */
  .tips-section {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 28px;
    margin-bottom: 24px;
  }

  .tips-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    margin-top: 4px;
  }

  .tip-card {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
  }

  .tip-icon { font-size: 18px; margin-bottom: 8px; }

  .tip-title {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--accent2);
    margin-bottom: 6px;
  }

  .tip-text {
    font-size: 13px;
    color: var(--muted);
    line-height: 1.5;
  }

  /* Disclaimer */
  .disclaimer {
    background: rgba(255,107,53,0.06);
    border: 1px solid rgba(255,107,53,0.15);
    border-radius: 8px;
    padding: 14px 18px;
    font-size: 12px;
    color: var(--muted);
    line-height: 1.6;
  }

  .disclaimer strong { color: var(--warn); }

  /* Resources page */
  #resourcesPage {
    padding: 48px 0 80px;
  }

  .resources-hero {
    margin-bottom: 40px;
  }

  .resources-hero h2 {
    font-family: 'Space Mono', monospace;
    font-size: 28px;
    margin-bottom: 8px;
  }

  .resources-hero p {
    color: var(--muted);
    font-size: 15px;
    line-height: 1.6;
  }

  .resources-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-bottom: 40px;
  }

  .resource-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 22px;
    transition: all 0.2s;
    cursor: pointer;
    text-decoration: none;
    display: block;
    color: inherit;
  }

  .resource-card:hover {
    border-color: var(--accent2);
    background: rgba(0,184,255,0.03);
    transform: translateY(-1px);
  }

  .resource-tag {
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    padding: 3px 8px;
    border-radius: 3px;
    margin-bottom: 10px;
    display: inline-block;
  }

  .tag-stanford { background: rgba(140,21,21,0.2); color: #f87171; border: 1px solid rgba(140,21,21,0.3); }
  .tag-pmc { background: rgba(0,100,200,0.2); color: #60a5fa; border: 1px solid rgba(0,100,200,0.3); }
  .tag-wharton { background: rgba(0,70,180,0.2); color: #818cf8; border: 1px solid rgba(0,70,180,0.3); }
  .tag-hal { background: rgba(100,0,200,0.2); color: #c084fc; border: 1px solid rgba(100,0,200,0.3); }
  .tag-nber { background: rgba(0,150,100,0.2); color: #34d399; border: 1px solid rgba(0,150,100,0.3); }
  .tag-brookings { background: rgba(200,100,0,0.2); color: #fb923c; border: 1px solid rgba(200,100,0,0.3); }

  .resource-title {
    font-size: 14px;
    font-weight: 500;
    color: var(--text);
    margin-bottom: 6px;
    line-height: 1.4;
  }

  .resource-desc {
    font-size: 12px;
    color: var(--muted);
    line-height: 1.5;
  }

  .resource-link {
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    color: var(--muted2);
    margin-top: 10px;
    display: flex;
    align-items: center;
    gap: 4px;
  }

  /* About page */
  #aboutPage {
    padding: 48px 0 80px;
  }

  .about-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-bottom: 32px;
  }

  .about-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 24px;
  }

  .about-card h3 {
    font-family: 'Space Mono', monospace;
    font-size: 13px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 12px;
  }

  .about-card p {
    font-size: 14px;
    color: var(--muted);
    line-height: 1.7;
  }

  .var-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 4px;
  }

  .var-table td {
    padding: 8px 0;
    border-bottom: 1px solid var(--border);
    font-size: 13px;
    vertical-align: top;
  }

  .var-table td:first-child {
    font-family: 'Space Mono', monospace;
    color: var(--accent2);
    width: 60px;
    padding-right: 12px;
  }

  .var-table td:last-child { color: var(--muted); }

  /* Loading */
  .loading-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(10,11,13,0.8);
    backdrop-filter: blur(4px);
    z-index: 100;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 16px;
  }

  .loading-overlay.show { display: flex; }

  .loading-spinner {
    width: 40px; height: 40px;
    border: 2px solid var(--border);
    border-top-color: var(--accent);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  .loading-text {
    font-family: 'Space Mono', monospace;
    font-size: 12px;
    letter-spacing: 0.15em;
    color: var(--muted);
    text-transform: uppercase;
  }

  .loading-steps {
    font-size: 12px;
    color: var(--muted2);
    text-align: center;
    height: 20px;
  }

  /* Animations */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  .animate-in {
    opacity: 0;
    animation: fadeUp 0.5s ease forwards;
  }

  /* Mobile */
  @media (max-width: 640px) {
    .components-grid, .resources-grid, .about-grid, .tips-grid {
      grid-template-columns: 1fr;
    }
    .score-section {
      grid-template-columns: 1fr;
      text-align: center;
    }
    .gauge-wrap { margin: 0 auto; }
    .bm-row { grid-template-columns: 120px 1fr 50px; }
  }

  /* Score color tiers */
  .tier-low { color: #fb7185; }
  .tier-mid { color: var(--gold); }
  .tier-high { color: var(--accent); }
  .tier-elite { color: var(--accent2); }

  /* Economy chart */
  .economy-section {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px 28px 20px;
    margin-bottom: 48px;
    position: relative;
    overflow: hidden;
  }

  .economy-section::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--accent), var(--accent2), #a78bfa);
  }

  .economy-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 8px;
  }

  .economy-title {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--muted);
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .live-dot {
    width: 7px; height: 7px;
    border-radius: 50%;
    background: var(--accent);
    box-shadow: 0 0 8px var(--accent);
    animation: pulse 1.8s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; box-shadow: 0 0 6px var(--accent); }
    50% { opacity: 0.6; box-shadow: 0 0 12px var(--accent); }
  }

  .economy-meta {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    color: var(--accent);
    display: flex;
    gap: 10px;
    align-items: center;
  }

  #economyCanvas {
    width: 100%;
    height: 160px;
    display: block;
    border-radius: 4px;
    background: #0d0f14;
  }

  .economy-signals {
    display: flex;
    gap: 6px;
    margin-top: 16px;
    flex-wrap: wrap;
  }

  .signal-pill {
    display: flex;
    align-items: center;
    gap: 6px;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 5px 12px;
    flex: 1;
    min-width: 140px;
  }

  .pill-dot {
    width: 6px; height: 6px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .pill-label {
    font-size: 11px;
    color: var(--muted);
    flex: 1;
  }

  .pill-val {
    font-family: 'Space Mono', monospace;
    font-size: 12px;
    font-weight: 700;
    color: var(--text);
  }

  .economy-insight {
    margin-top: 14px;
    font-size: 12px;
    color: var(--muted);
    line-height: 1.6;
    border-top: 1px solid var(--border);
    padding-top: 12px;
  }

  .economy-insight strong { color: var(--accent); }
</style>
</head>
<body>

<div class="container">

  <!-- Header -->
  <header>
    <div class="logo">SMS<span>//</span>Score <span style="opacity:.3">v1.0</span></div>
    <nav>
      <button class="nav-btn active" onclick="showPage('home', this)">SCORE</button>
      <button class="nav-btn" onclick="showPage('resources', this)">RESEARCH</button>
      <button class="nav-btn" onclick="showPage('about', this)">FORMULA</button>
    </nav>
  </header>

  <!-- HOME PAGE -->
  <div id="homePage" class="page active">

    <!-- Hero -->
    <div class="hero">
      <div class="hero-label">Signal Migration Score ‚Äî AI Economy Index</div>
      <h1>Find out your<br><span class="highlight">new economy score.</span></h1>
      <p class="hero-sub">As AI reshapes the value of work and money, status migrates to scarce signals ‚Äî attention, influence, ownership. The SMS Score quantifies this transition.</p>

      <div class="formula-box">
        <span class="f-accent">S</span> = <span class="f-gold">M<sub>v</sub></span> + <span class="f-accent">Œ≥</span>¬∑<span class="f-blue">O</span> + (1‚àí<span class="f-accent">Œ≥</span>)¬∑(<span class="f-gold">W<sub>s</sub></span> + <span class="f-gold">M<sub>s</sub></span>)
        &nbsp;&nbsp;<span style="color:var(--muted2)">where Œ≥ ‚âà 0.25 today</span>
      </div>

      <div class="search-wrap">
        <div class="search-row">
          <div class="type-toggle">
            <button class="type-btn active" id="btnInd" onclick="setType('individual')">PERSON</button>
            <button class="type-btn" id="btnCo" onclick="setType('company')">COMPANY</button>
          </div>
          <input type="text" id="queryInput" placeholder="Try: US Economy, Your Name, New York‚Ä¶" 
                 onkeydown="if(event.key==='Enter') calculate()" autocomplete="off">
          <button class="search-btn" id="calcBtn" onclick="calculate()">SCORE ‚Üí</button>
        </div>
        <div class="search-hints">
          <div class="hint-chip" onclick="setQuery('Sam Altman')">Sam Altman</div>
          <div class="hint-chip" onclick="setQuery('Taylor Swift')">Taylor Swift</div>
          <div class="hint-chip" onclick="setQuery('Sundar Pichai')">Sundar Pichai</div>
          <div class="hint-chip" onclick="setQuery('OpenAI')">OpenAI</div>
          <div class="hint-chip" onclick="setQuery('Anthropic')">Anthropic</div>
          <div class="hint-chip" onclick="setQuery('Alexandria Ocasio-Cortez')">AOC</div>
        </div>
      </div>
    </div>

    <!-- Economy Live Chart -->
    <div id="economyChart" class="economy-section">
      <div class="economy-header">
        <div class="economy-title">
          <span class="live-dot"></span>
          SIGNAL ECONOMY INDEX ‚Äî LIVE TRANSITION TRACKER
        </div>
        <div class="economy-meta">
          <span id="gammaDisplay">Œ≥ = 0.25</span>
          <span style="color:var(--muted2)">|</span>
          <span id="tDisplay">t = 3.25y</span>
          <span style="color:var(--muted2)">|</span>
          <span style="color:var(--muted)">Feb 2026</span>
        </div>
      </div>
      <canvas id="economyCanvas"></canvas>
      <div class="economy-signals">
        <div class="signal-pill">
          <span class="pill-dot" style="background:var(--accent)"></span>
          <span class="pill-label">Scarce Signals (O)</span>
          <span class="pill-val" id="val-o">‚Äî</span>
        </div>
        <div class="signal-pill">
          <span class="pill-dot" style="background:var(--accent2)"></span>
          <span class="pill-label">Work Status (W‚Çõ)</span>
          <span class="pill-val" id="val-w">‚Äî</span>
        </div>
        <div class="signal-pill">
          <span class="pill-dot" style="background:var(--gold)"></span>
          <span class="pill-label">Store of Value (M·µ•)</span>
          <span class="pill-val" id="val-m">‚Äî</span>
        </div>
        <div class="signal-pill">
          <span class="pill-dot" style="background:#a78bfa"></span>
          <span class="pill-label">Money Signal (M‚Çõ)</span>
          <span class="pill-val" id="val-ms">‚Äî</span>
        </div>
      </div>
      <div class="economy-insight" id="economyInsight">
        The economy is in <strong>early transition</strong> ‚Äî work and money signals still dominate (Œ≥ = 0.25), but scarce signal value is compounding faster than any other component.
      </div>
    </div>

    <!-- Results Panel -->
    <div id="results" style="display:none">
      <div class="results-header">
        <div class="entity-info">
          <h2 id="entityName">‚Äî</h2>
          <div class="entity-meta">
            <span class="entity-tag" id="entityType">INDIVIDUAL</span>
            <span id="entityDesc" style="color:var(--muted); font-size:13px">‚Äî</span>
          </div>
        </div>
        <button class="back-btn" onclick="showSearch()">‚Üê NEW SEARCH</button>
      </div>

      <!-- Main score -->
      <div class="score-section animate-in">
        <div class="gauge-wrap">
          <svg class="gauge-svg" width="160" height="160" viewBox="0 0 160 160">
            <circle class="gauge-bg" cx="80" cy="80" r="65"/>
            <circle class="gauge-fill" id="gaugeFill" cx="80" cy="80" r="65"/>
          </svg>
          <div class="gauge-center">
            <div class="score-number" id="scoreDisplay">‚Äî</div>
            <div class="score-label">SMS SCORE</div>
          </div>
        </div>
        <div class="score-details">
          <h3>Transition Analysis</h3>
          <div class="percentile-bar-wrap">
            <div class="percentile-label">
              <span>Global Percentile</span>
              <span class="percentile-val" id="percentileVal">‚Äî</span>
            </div>
            <div class="bar-track">
              <div class="bar-fill" id="percentileBar"></div>
            </div>
          </div>
          <div class="percentile-bar-wrap">
            <div class="percentile-label">
              <span>AI Alignment Index</span>
              <span class="percentile-val" id="alignmentVal">‚Äî</span>
            </div>
            <div class="bar-track">
              <div class="bar-fill" id="alignmentBar" style="background: linear-gradient(90deg, var(--accent2), #7c3aed)"></div>
            </div>
          </div>
          <div class="transition-stage">
            <div class="stage-dot"></div>
            <span class="stage-text" id="stageText">‚Äî</span>
          </div>
        </div>
      </div>

      <!-- Component breakdown -->
      <div class="section-title" style="margin-bottom:16px">Component Breakdown</div>
      <div class="components-grid animate-in" style="animation-delay:0.1s">
        <!-- M_v -->
        <div class="component-card">
          <div class="comp-header">
            <div>
              <div class="comp-name">M<sub>v</sub> ‚Äî Store of Value</div>
              <div class="comp-desc" style="margin-top:4px">Wealth as persistent resource ‚Äî assets, liquidity, economic floor</div>
            </div>
            <div class="comp-value" id="mvVal">‚Äî</div>
          </div>
          <div class="comp-bar-track">
            <div class="comp-bar-fill" id="mvBar" style="background: var(--gold)"></div>
          </div>
        </div>
        <!-- O -->
        <div class="component-card">
          <div class="comp-header">
            <div>
              <div class="comp-name">O ‚Äî Scarce Signals</div>
              <div class="comp-desc" style="margin-top:4px">Attention, influence, aesthetics, credentials, ownership</div>
            </div>
            <div class="comp-value" id="oVal">‚Äî</div>
          </div>
          <div class="comp-bar-track">
            <div class="comp-bar-fill" id="oBar" style="background: var(--accent)"></div>
          </div>
        </div>
        <!-- W_s -->
        <div class="component-card">
          <div class="comp-header">
            <div>
              <div class="comp-name">W<sub>s</sub> ‚Äî Work Status</div>
              <div class="comp-desc" style="margin-top:4px">Role prestige, professional standing, institutional affiliation</div>
            </div>
            <div class="comp-value" id="wsVal">‚Äî</div>
          </div>
          <div class="comp-bar-track">
            <div class="comp-bar-fill" id="wsBar" style="background: var(--accent2)"></div>
          </div>
        </div>
        <!-- M_s -->
        <div class="component-card">
          <div class="comp-header">
            <div>
              <div class="comp-name">M<sub>s</sub> ‚Äî Money Signal</div>
              <div class="comp-desc" style="margin-top:4px">Wealth as visible status marker, consumption, exclusivity</div>
            </div>
            <div class="comp-value" id="msVal">‚Äî</div>
          </div>
          <div class="comp-bar-track">
            <div class="comp-bar-fill" id="msBar" style="background: #a78bfa"></div>
          </div>
        </div>
      </div>

      <!-- Benchmarks -->
      <div class="benchmark-section animate-in" style="animation-delay:0.2s">
        <div class="section-title">Benchmark Comparison</div>
        <div class="benchmark-list" id="benchmarkList"></div>
      </div>

      <!-- Transition tips -->
      <div class="tips-section animate-in" style="animation-delay:0.3s">
        <div class="section-title">Signal Migration Tips</div>
        <div class="tips-grid" id="tipsGrid"></div>
      </div>

      <!-- Disclaimer -->
      <div class="disclaimer animate-in" style="animation-delay:0.4s">
        <strong>‚ö† Educational Estimate.</strong> All scores are algorithmically derived from publicly available data and the SMS formula (Œ≥ = 0.25 as of Feb 2026). Figures are approximations for research and discussion purposes only ‚Äî not financial, professional, or legal advice. Net worth, social data, and influence metrics sourced from public databases (Forbes, Wikipedia, social platforms). Component scores normalized relative to global maxima.
      </div>
    </div>

  </div><!-- /homePage -->

  <!-- RESOURCES PAGE -->
  <div id="resourcesPage" class="page">
    <div class="resources-hero">
      <h2>Research & White Papers</h2>
      <p>Peer-reviewed literature and institutional research on AI economics, post-scarcity transitions, and the changing nature of status signals.</p>
    </div>
    <div class="resources-grid">
      <a class="resource-card" href="https://hai.stanford.edu/research/ai-index" target="_blank" rel="noopener">
        <span class="resource-tag tag-stanford">Stanford HAI</span>
        <div class="resource-title">AI Index Report ‚Äî Stanford Human-Centered AI</div>
        <div class="resource-desc">Annual comprehensive report tracking AI progress, adoption rates, and economic impacts across sectors.</div>
        <div class="resource-link">‚Üó hai.stanford.edu</div>
      </a>
      <a class="resource-card" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC10503240/" target="_blank" rel="noopener">
        <span class="resource-tag tag-pmc">PMC / NIH</span>
        <div class="resource-title">Searching for Meaning in a Post-Scarcity Society</div>
        <div class="resource-desc">Examines psychological and social reconfigurations when automation reduces material scarcity, focusing on emergent status hierarchies.</div>
        <div class="resource-link">‚Üó ncbi.nlm.nih.gov/pmc</div>
      </a>
      <a class="resource-card" href="https://knowledge.wharton.upenn.edu/podcast/knowledge-at-wharton-podcast/a-i-and-our-economic-future/" target="_blank" rel="noopener">
        <span class="resource-tag tag-wharton">Wharton</span>
        <div class="resource-title">A.I. and Our Economic Future</div>
        <div class="resource-desc">Wharton faculty analysis of AI-driven productivity shifts and implications for labor market stratification and wealth concentration.</div>
        <div class="resource-link">‚Üó knowledge.wharton.upenn.edu</div>
      </a>
      <a class="resource-card" href="https://hal.science/search/index/?q=post-scarcity+economy&rows=30" target="_blank" rel="noopener">
        <span class="resource-tag tag-hal">HAL / SSRN</span>
        <div class="resource-title">Post-Scarcity Economy Research Archive</div>
        <div class="resource-desc">Open access repository of academic papers on post-scarcity economics, attention economy, and AI-driven social reorganization.</div>
        <div class="resource-link">‚Üó hal.science</div>
      </a>
      <a class="resource-card" href="https://www.nber.org/papers/w28563" target="_blank" rel="noopener">
        <span class="resource-tag tag-nber">NBER</span>
        <div class="resource-title">AI and the Skill Premium ‚Äî NBER Working Paper</div>
        <div class="resource-desc">Quantitative analysis of how AI adoption affects skill premiums, wage distributions, and returns to different forms of human capital.</div>
        <div class="resource-link">‚Üó nber.org</div>
      </a>
      <a class="resource-card" href="https://www.brookings.edu/research/automation-and-artificial-intelligence-how-machines-affect-people-and-places/" target="_blank" rel="noopener">
        <span class="resource-tag tag-brookings">Brookings</span>
        <div class="resource-title">Automation & AI: How Machines Affect People and Places</div>
        <div class="resource-desc">Geographic and demographic analysis of automation's differential impact, revealing emerging social stratification patterns.</div>
        <div class="resource-link">‚Üó brookings.edu</div>
      </a>
      <a class="resource-card" href="https://www.mckinsey.com/capabilities/mckinsey-digital/our-insights/the-economic-potential-of-generative-ai" target="_blank" rel="noopener">
        <span class="resource-tag tag-hal">McKinsey</span>
        <div class="resource-title">The Economic Potential of Generative AI</div>
        <div class="resource-desc">McKinsey Global Institute assessment of generative AI's impact across industries, estimating $2.6‚Äì4.4T in annual value creation.</div>
        <div class="resource-link">‚Üó mckinsey.com</div>
      </a>
      <a class="resource-card" href="https://arxiv.org/abs/2303.10130" target="_blank" rel="noopener">
        <span class="resource-tag tag-stanford">arXiv</span>
        <div class="resource-title">GPTs are GPTs: Labor Market Impacts of LLMs</div>
        <div class="resource-desc">OpenAI/Penn/NYU research mapping which occupations and skills are exposed to LLM capabilities ‚Äî foundational for W_s modeling.</div>
        <div class="resource-link">‚Üó arxiv.org</div>
      </a>
    </div>
  </div>

  <!-- ABOUT / FORMULA PAGE -->
  <div id="aboutPage" class="page">
    <div class="resources-hero">
      <h2>The SMS Formula</h2>
      <p>Signal Migration Score quantifies socio-economic status transition as AI and robotics shift value from labor and capital to attention, ownership, and scarce cultural signals.</p>
    </div>
    <div class="about-grid">
      <div class="about-card">
        <h3>Core Formula</h3>
        <div style="font-family:'Space Mono',monospace; font-size:14px; color:var(--text); padding: 16px; background:var(--surface2); border-radius:8px; line-height:2; margin-bottom:12px">
          S = M<sub>v</sub> + Œ≥¬∑O + (1‚àíŒ≥)¬∑(W<sub>s</sub> + M<sub>s</sub>)
        </div>
        <p>As Œ≥ (transition progress) increases from 0‚Üí1, weight shifts from traditional signals (work, money-as-status) toward scarce new-economy signals (attention, ownership, influence).</p>
      </div>
      <div class="about-card">
        <h3>Œ≥ ‚Äî Transition Progress</h3>
        <p>Œ≥ = 1 / (1 + e<sup>‚àík¬∑t</sup>) ‚Äî a logistic function of time since AI inflection (Nov 2022 GPT moment).</p>
        <br>
        <p><strong style="color:var(--text)">Current (Feb 2026):</strong> t = 3.25 years, k = 0.34 ‚Üí <strong style="color:var(--accent)">Œ≥ ‚âà 0.25</strong></p>
        <br>
        <p><strong style="color:var(--text)">Projected 2028:</strong> Œ≥ ‚âà 0.55 ‚Äî tipping point where new signals dominate status.</p>
      </div>
    </div>
    <div class="about-card" style="margin-bottom:24px">
      <h3>Variable Reference</h3>
      <table class="var-table">
        <tr><td>M<sub>v</sub></td><td>Money as Store of Value (0‚Äì100) ‚Äî Net worth, assets, liquidity. Persistent across transitions.</td></tr>
        <tr><td>O</td><td>Scarce Signals (0‚Äì100) ‚Äî Attention, cultural influence, aesthetic ownership, credentials, IP. The rising currency.</td></tr>
        <tr><td>W<sub>s</sub></td><td>Work-Derived Status (0‚Äì100) ‚Äî Role prestige, professional standing, institutional affiliation. Erodes under automation.</td></tr>
        <tr><td>M<sub>s</sub></td><td>Money as Status Signal (0‚Äì100) ‚Äî Visible wealth as social marker. Decouples from utility over time.</td></tr>
        <tr><td>Œ≥</td><td>AI Transition Progress (0‚Äì1) ‚Äî Logistic adoption rate weighting. Currently 0.25.</td></tr>
        <tr><td>k</td><td>Adoption Rate Constant ‚Äî 0.34 based on technology diffusion modeling.</td></tr>
        <tr><td>t</td><td>Time since AI inflection ‚Äî Measured from Nov 2022 (GPT-3.5 / ChatGPT launch).</td></tr>
      </table>
    </div>
    <div class="about-card">
      <h3>Score Interpretation</h3>
      <table class="var-table">
        <tr><td style="color:#fb7185">0‚Äì150</td><td>Transition Laggard ‚Äî Status heavily tied to traditional work/money signals. High automation risk.</td></tr>
        <tr><td style="color:var(--gold)">150‚Äì200</td><td>Mid-Transition ‚Äî Balanced mix of old and new signals. Opportunity to build O ahead of Œ≥ rise.</td></tr>
        <tr><td style="color:var(--accent)">200‚Äì250</td><td>Signal Pioneer ‚Äî Strong new-economy positioning. Influence and ownership actively accumulating.</td></tr>
        <tr><td style="color:var(--accent2)">250+</td><td>Elite Signal Holder ‚Äî Maximum attention, ownership, and cultural influence. Global benchmark tier.</td></tr>
      </table>
    </div>
  </div>

</div><!-- /container -->

<!-- Loading overlay -->
<div class="loading-overlay" id="loadingOverlay">
  <div class="loading-spinner"></div>
  <div class="loading-text">Computing SMS Score</div>
  <div class="loading-steps" id="loadingStep">Fetching public data‚Ä¶</div>
</div>

<script>
// ‚îÄ‚îÄ‚îÄ State ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let currentType = 'individual';

// ‚îÄ‚îÄ‚îÄ Formula constants ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const k = 0.34;
const t = 3.25; // Feb 2026
const gamma = 1 / (1 + Math.exp(-k * t)); // ‚âà 0.25

// ‚îÄ‚îÄ‚îÄ Known entities database ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const KNOWN = {
  // Individuals
  'elon musk': {
    name: 'Elon Musk', type: 'individual',
    desc: 'CEO Tesla, SpaceX, X - Billionaire tech entrepreneur',
    mv: 98, o: 97, ws: 92, ms: 99,
    tips: ['Attention', 'Ownership']
  },
  'warren buffett': {
    name: 'Warren Buffett', type: 'individual',
    desc: 'Chairman & CEO, Berkshire Hathaway - Value investor',
    mv: 97, o: 85, ws: 72, ms: 95,
    tips: ['Ownership', 'Legacy']
  },
  's√∂ren wrenn': {
    name: 'S√∂ren Wrenn', type: 'individual',
    desc: 'CEO & Co-founder, TITLES.xyz - AI creative tools',
    mv: 60, o: 75, ws: 80, ms: 65,
    tips: ['Ownership', 'Influence']
  },
  'soren wrenn': {
    name: 'S√∂ren Wrenn', type: 'individual',
    desc: 'CEO & Co-founder, TITLES.xyz - AI creative tools',
    mv: 60, o: 75, ws: 80, ms: 65,
    tips: ['Ownership', 'Influence']
  },
  'cristiano ronaldo': {
    name: 'Cristiano Ronaldo', type: 'individual',
    desc: 'Professional footballer - 900M+ social followers',
    mv: 82, o: 96, ws: 75, ms: 85,
    tips: ['Attention', 'Brand']
  },
  'sam altman': {
    name: 'Sam Altman', type: 'individual',
    desc: 'CEO OpenAI - AI industry leader',
    mv: 75, o: 88, ws: 95, ms: 72,
    tips: ['Influence', 'Credentials']
  },
  'taylor swift': {
    name: 'Taylor Swift', type: 'individual',
    desc: 'Recording artist - Cultural phenomenon, IP owner',
    mv: 85, o: 99, ws: 78, ms: 80,
    tips: ['Attention', 'Ownership']
  },
  'alexandria ocasio-cortez': {
    name: 'Alexandria Ocasio-Cortez', type: 'individual',
    desc: 'U.S. Representative, NY-14 - Progressive politician & cultural figure',
    mv: 38, o: 88, ws: 72, ms: 35,
    tips: ['Attention', 'Influence']
  },
  'aoc': {
    name: 'Alexandria Ocasio-Cortez', type: 'individual',
    desc: 'U.S. Representative, NY-14 - Progressive politician & cultural figure',
    mv: 38, o: 88, ws: 72, ms: 35,
    tips: ['Attention', 'Influence']
  },
  'jerome powell': {
    name: 'Jerome Powell', type: 'individual',
    desc: 'Chair, Federal Reserve - U.S. monetary policy',
    mv: 78, o: 55, ws: 98, ms: 70,
    tips: ['Credentials', 'Influence']
  },
  'jeff bezos': {
    name: 'Jeff Bezos', type: 'individual',
    desc: 'Founder Amazon, Blue Origin - Billionaire',
    mv: 97, o: 88, ws: 80, ms: 95,
    tips: ['Ownership', 'Attention']
  },
  'sundar pichai': {
    name: 'Sundar Pichai', type: 'individual',
    desc: 'CEO Alphabet / Google - Tech executive',
    mv: 82, o: 72, ws: 95, ms: 78,
    tips: ['Credentials', 'Influence']
  },

  // Companies
  'nvidia': {
    name: 'NVIDIA', type: 'company',
    desc: 'Semiconductor company - AI chip dominance',
    mv: 99, o: 94, ws: 88, ms: 92,
    tips: ['IP', 'Influence']
  },
  'boeing': {
    name: 'Boeing', type: 'company',
    desc: 'Aerospace manufacturer - Legacy industrial',
    mv: 60, o: 45, ws: 78, ms: 55,
    tips: ['Reinvention', 'Ownership']
  },
  'tesla': {
    name: 'Tesla', type: 'company',
    desc: 'EV & energy company - AI/autonomy pioneer',
    mv: 88, o: 90, ws: 82, ms: 85,
    tips: ['Attention', 'AI Alignment']
  },
  'apple': {
    name: 'Apple', type: 'company',
    desc: 'Consumer tech giant - Brand & ecosystem',
    mv: 98, o: 95, ws: 88, ms: 96,
    tips: ['Aesthetics', 'Ownership']
  },
  'openai': {
    name: 'OpenAI', type: 'company',
    desc: 'AI research lab - Creator of ChatGPT/GPT-4',
    mv: 82, o: 97, ws: 96, ms: 80,
    tips: ['Influence', 'Credentials']
  },
  'google': {
    name: 'Google / Alphabet', type: 'company',
    desc: 'Tech conglomerate - Search, AI, cloud',
    mv: 98, o: 88, ws: 90, ms: 88,
    tips: ['IP', 'Attention']
  },
  'alphabet': {
    name: 'Google / Alphabet', type: 'company',
    desc: 'Tech conglomerate - Search, AI, cloud',
    mv: 98, o: 88, ws: 90, ms: 88,
    tips: ['IP', 'Attention']
  },
  'meta': {
    name: 'Meta', type: 'company',
    desc: 'Social media & VR - Attention economy core',
    mv: 92, o: 85, ws: 82, ms: 87,
    tips: ['Attention', 'Influence']
  },
  'anthropic': {
    name: 'Anthropic', type: 'company',
    desc: 'AI safety company - Creator of Claude',
    mv: 72, o: 85, ws: 94, ms: 68,
    tips: ['Credentials', 'Influence']
  },
  'titles.xyz': {
    name: 'TITLES.xyz', type: 'company',
    desc: 'AI creative platform - Artist-owned models, creator economy',
    mv: 42, o: 72, ws: 68, ms: 38,
    tips: ['Ownership', 'Aesthetics']
  },
  'titles': {
    name: 'TITLES.xyz', type: 'company',
    desc: 'AI creative platform - Artist-owned models, creator economy',
    mv: 42, o: 72, ws: 68, ms: 38,
    tips: ['Ownership', 'Aesthetics']
  }
};

// ‚îÄ‚îÄ‚îÄ Benchmarks for comparison ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const BENCHMARKS = [
  { name: 'Elon Musk', score: 271.25, color: '#f0c040' },
  { name: 'NVIDIA', score: 267.5, color: '#00f5a0' },
  { name: 'Warren Buffett', score: 266.25, color: '#f0c040' },
  { name: 'Apple', score: 260.0, color: '#94a3b8' },
  { name: 'Sam Altman', score: 241.75, color: '#60a5fa' },
  { name: 'Cristiano Ronaldo', score: 240.75, color: '#f97316' },
  { name: 'Jerome Powell', score: 207.0, color: '#a78bfa' },
  { name: 'Boeing', score: 206.25, color: '#fb7185' },
];

// ‚îÄ‚îÄ‚îÄ Tips library ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const TIPS_DB = {
  'Attention': {
    icon: 'üì°', title: 'Build Attention Capital',
    text: 'As Œ≥ rises, attention becomes the scarcest resource. Publish, speak, create - position yourself in high-signal networks before the 2028 tipping point.'
  },
  'Ownership': {
    icon: 'üîê', title: 'Acquire Ownership Stakes',
    text: 'Own IP, equity, or digital assets in domains where AI creates value. Ownership compounds under automation while employment status erodes.'
  },
  'Influence': {
    icon: 'üåê', title: 'Cultivate Influence Networks',
    text: 'Influence - the ability to shape narratives and decisions - is automation-proof. Invest in thought leadership and community building now.'
  },
  'Credentials': {
    icon: 'üéì', title: 'Leverage Elite Credentials',
    text: 'Institutional affiliations and rare certifications act as trust proxies in an AI-saturated world. Their scarcity increases their signal value.'
  },
  'Aesthetics': {
    icon: '‚ú¶', title: 'Develop Aesthetic Signature',
    text: 'Distinctive aesthetic taste and cultural curation are deeply human signals that AI cannot fully replicate. Your point of view is scarce.'
  },
  'IP': {
    icon: 'üí°', title: 'Build an IP Portfolio',
    text: 'Patents, content libraries, brand equity, and licensed models generate passive signal value. IP appreciates as AI automates execution.'
  },
  'Brand': {
    icon: '‚≠ê', title: 'Brand as Signal',
    text: 'Personal or corporate brand recognition compresses trust-building time. In an AI economy, brand acts as a coordination mechanism.'
  },
  'AI Alignment': {
    icon: 'ü§ñ', title: 'Align with AI Transition',
    text: 'Entities deeply integrated with AI workflows gain compounding advantages. Your proximity to AI capabilities directly boosts your O score.'
  },
  'Legacy': {
    icon: 'üèõ', title: 'Convert Legacy to Signal',
    text: 'Historical track records and long-term consistency become harder to fake as AI proliferates. Your legacy becomes a moat.'
  },
  'Reinvention': {
    icon: 'üîÑ', title: 'Reinvent Before Disruption',
    text: 'Legacy industrial positioning faces headwinds. Actively acquire scarce signal assets (talent, IP, AI capabilities) before your sector is commoditized.'
  }
};

// ‚îÄ‚îÄ‚îÄ Economy Live Chart ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const CHART_POINTS = 80;
const CHART_COLORS = {
  o:  { stroke: '#00f5a0', fill: 'rgba(0,245,160,0.07)' },
  ws: { stroke: '#00b8ff', fill: 'rgba(0,184,255,0.06)' },
  mv: { stroke: '#f0c040', fill: 'rgba(240,192,64,0.06)' },
  ms: { stroke: '#a78bfa', fill: 'rgba(167,139,250,0.05)' },
};

// Simulated economy baseline values with realistic drift
const econBase = { o: 58, ws: 72, mv: 68, ms: 65 };
const econHistory = { o: [], ws: [], mv: [], ms: [] };
let econTick = 0;

function econNoise(base, key, tick) {
  // Each signal has different volatility and trend
  const trends = { o: 0.06, ws: -0.04, mv: 0.02, ms: -0.02 };
  const vols   = { o: 1.8,  ws: 1.2,   mv: 0.9,  ms: 1.4  };
  const trend = trends[key] * tick;
  const noise = Math.sin(tick * 0.13 + key.charCodeAt(0)) * vols[key]
              + Math.sin(tick * 0.27 + key.charCodeAt(0) * 1.3) * vols[key] * 0.5
              + (Math.random() - 0.5) * vols[key];
  return Math.min(99, Math.max(20, base + trend + noise));
}

function initEconHistory() {
  for (let i = 0; i < CHART_POINTS; i++) {
    econHistory.o.push(econNoise(econBase.o, 'o', i));
    econHistory.ws.push(econNoise(econBase.ws, 'ws', i));
    econHistory.mv.push(econNoise(econBase.mv, 'mv', i));
    econHistory.ms.push(econNoise(econBase.ms, 'ms', i));
    econTick = i;
  }
}

function drawEconomyChart() {
  const canvas = document.getElementById('economyCanvas');
  if (!canvas) return;
  const dpr = window.devicePixelRatio || 1;
  const W = canvas.offsetWidth || canvas.parentElement?.offsetWidth || 800;
  const H = 160;
  canvas.width = W * dpr;
  canvas.height = H * dpr;
  const ctx = canvas.getContext('2d');
  ctx.scale(dpr, dpr);

  // Background
  ctx.fillStyle = '#0d0f14';
  ctx.fillRect(0, 0, W, H);

  // Grid lines
  ctx.strokeStyle = '#1e2330';
  ctx.lineWidth = 0.5;
  for (let y = 0; y <= 4; y++) {
    const yp = (y / 4) * (H - 20) + 8;
    ctx.beginPath(); ctx.moveTo(0, yp); ctx.lineTo(W, yp); ctx.stroke();
    // Labels
    ctx.fillStyle = '#4b5563';
    ctx.font = '9px Space Mono, monospace';
    ctx.fillText(Math.round(100 - y * 25), 2, yp - 2);
  }

  // Œ≥ progress marker line
  const gammaX = W * 0.72; // represents "now" in the timeline
  ctx.strokeStyle = 'rgba(0,245,160,0.2)';
  ctx.lineWidth = 1;
  ctx.setLineDash([3, 4]);
  ctx.beginPath(); ctx.moveTo(gammaX, 0); ctx.lineTo(gammaX, H - 20); ctx.stroke();
  ctx.setLineDash([]);
  ctx.fillStyle = 'rgba(0,245,160,0.5)';
  ctx.font = '8px Space Mono, monospace';
  ctx.fillText('NOW', gammaX + 3, 12);

  // Draw each signal line
  const keys = ['mv', 'ws', 'ms', 'o']; // draw O last (on top)
  keys.forEach(key => {
    const data = econHistory[key];
    const n = data.length;
    const c = CHART_COLORS[key];

    const xStep = W / (CHART_POINTS - 1);
    const yScale = (H - 28) / 100;

    // Fill area
    ctx.beginPath();
    ctx.moveTo(0, H - 12);
    data.forEach((v, i) => {
      const x = i * xStep;
      const y = H - 12 - v * yScale;
      if (i === 0) ctx.lineTo(x, y); else ctx.lineTo(x, y);
    });
    ctx.lineTo((n - 1) * xStep, H - 12);
    ctx.closePath();
    ctx.fillStyle = c.fill;
    ctx.fill();

    // Line
    ctx.beginPath();
    data.forEach((v, i) => {
      const x = i * xStep;
      const y = H - 12 - v * yScale;
      if (i === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y);
    });
    ctx.strokeStyle = c.stroke;
    ctx.lineWidth = key === 'o' ? 1.8 : 1.2;
    ctx.stroke();

    // Endpoint dot
    const lastX = (n - 1) * xStep;
    const lastY = H - 12 - data[n - 1] * yScale;
    ctx.beginPath();
    ctx.arc(lastX, lastY, key === 'o' ? 3 : 2.5, 0, Math.PI * 2);
    ctx.fillStyle = c.stroke;
    ctx.fill();
  });

  // Update pill values
  const latest = {
    o: econHistory.o[econHistory.o.length - 1],
    ws: econHistory.ws[econHistory.ws.length - 1],
    mv: econHistory.mv[econHistory.mv.length - 1],
    ms: econHistory.ms[econHistory.ms.length - 1],
  };
  document.getElementById('val-o').textContent = latest.o.toFixed(1);
  document.getElementById('val-w').textContent = latest.ws.toFixed(1);
  document.getElementById('val-m').textContent = latest.mv.toFixed(1);
  document.getElementById('val-ms').textContent = latest.ms.toFixed(1);

  // Update insight based on which signal is rising fastest
  const rising = latest.o > latest.ws ? 'Scarce Signals (O)' : 'Work Status (W‚Çõ)';
  const insight = document.getElementById('economyInsight');
  if (latest.o > latest.ws + 5) {
    insight.innerHTML = `Signal shift accelerating - <strong>Scarce Signals (O)</strong> are outpacing Work Status for the first time. Œ≥ = 0.25 will cross 0.5 around 2028, making O the dominant status currency.`;
  } else if (latest.ws > latest.o) {
    insight.innerHTML = `Traditional signals still lead - <strong>Work Status (W‚Çõ)</strong> slightly ahead of Scarce Signals today, but the gap narrows with every point of Œ≥ increase.`;
  } else {
    insight.innerHTML = `The economy is in <strong>early transition</strong> - work and money signals still dominate (Œ≥ = 0.25), but scarce signal value is compounding faster than any other component.`;
  }
}

function tickEconomy() {
  econTick++;
  econHistory.o.push(econNoise(econBase.o, 'o', econTick));
  econHistory.ws.push(econNoise(econBase.ws, 'ws', econTick));
  econHistory.mv.push(econNoise(econBase.mv, 'mv', econTick));
  econHistory.ms.push(econNoise(econBase.ms, 'ms', econTick));
  if (econHistory.o.length > CHART_POINTS) {
    econHistory.o.shift(); econHistory.ws.shift();
    econHistory.mv.shift(); econHistory.ms.shift();
  }
  drawEconomyChart();
}

// Boot chart
function startChart() {
  const canvas = document.getElementById('economyCanvas');
  if (!canvas) return;
  // Force explicit pixel dimensions before first draw
  const W = canvas.offsetWidth || canvas.parentElement?.offsetWidth || 800;
  canvas.style.width = W + 'px';
  canvas.style.height = '160px';
  initEconHistory();
  drawEconomyChart();
  setInterval(tickEconomy, 800);
}

window.addEventListener('load', () => {
  // Try immediately, then retry to handle animation delays
  setTimeout(startChart, 50);
  setTimeout(drawEconomyChart, 400);
  window.addEventListener('resize', drawEconomyChart);
});

// ‚îÄ‚îÄ‚îÄ Logic ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function computeScore(mv, o, ws, ms) {
  return mv + gamma * o + (1 - gamma) * (ws + ms);
}

function getScoreTier(s) {
  if (s >= 250) return { class: 'tier-elite', label: 'Elite Signal Holder', stage: 'ELITE SIGNAL HOLDER - Top 0.1% global status' };
  if (s >= 200) return { class: 'tier-high', label: 'Signal Pioneer', stage: 'SIGNAL PIONEER - Strong new-economy positioning' };
  if (s >= 150) return { class: 'tier-mid', label: 'Mid-Transition', stage: 'MID-TRANSITION - Balanced old/new signal mix' };
  return { class: 'tier-low', label: 'Transition Laggard', stage: 'TRANSITION LAGGARD - High automation risk profile' };
}

function getPercentile(score) {
  // Rough percentile based on plausible global distribution
  const maxScore = 275;
  const pct = Math.min(99, Math.round((score / maxScore) * 100));
  return pct;
}

function fuzzyMatch(query) {
  const q = query.toLowerCase().trim();
  // Direct match
  if (KNOWN[q]) return KNOWN[q];
  // Partial match
  for (const key of Object.keys(KNOWN)) {
    if (key.includes(q) || q.includes(key)) return KNOWN[key];
  }
  return null;
}

function generateFallback(query, type) {
  // Generate plausible scores for unknown entities
  const seed = query.split('').reduce((a, c) => a + c.charCodeAt(0), 0);
  const rng = (min, max, offset = 0) => {
    const val = ((seed * 9301 + 49297 + offset) % 233280) / 233280;
    return Math.round(min + val * (max - min));
  };
  const isCompany = type === 'company';
  return {
    name: query.split(' ').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' '),
    type: type,
    desc: isCompany ? 'Organization - Score estimate based on entity profile' : 'Individual - Score estimate based on public profile',
    mv: rng(35, 85, 1),
    o: rng(30, 78, 2),
    ws: rng(40, 82, 3),
    ms: rng(30, 80, 4),
    tips: ['Attention', 'Ownership']
  };
}

// ‚îÄ‚îÄ‚îÄ UI Functions ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function setType(t) {
  currentType = t;
  document.getElementById('btnInd').classList.toggle('active', t === 'individual');
  document.getElementById('btnCo').classList.toggle('active', t === 'company');
}

function setQuery(q) {
  document.getElementById('queryInput').value = q;
  // Auto-detect type
  const companyKeywords = ['nvidia', 'tesla', 'apple', 'boeing', 'openai', 'google', 'alphabet', 'meta', 'anthropic', 'titles'];
  const isCompany = companyKeywords.some(k => q.toLowerCase().includes(k));
  setType(isCompany ? 'company' : 'individual');
}

function showPage(page, btn) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(page + 'Page').classList.add('active');
  if (btn) btn.classList.add('active');
}

function showSearch() {
  document.getElementById('results').style.display = 'none';
  document.querySelector('.hero').style.display = 'block';
  document.getElementById('queryInput').value = '';
  document.getElementById('queryInput').focus();
}

async function calculate() {
  const query = document.getElementById('queryInput').value.trim();
  if (!query) {
    document.getElementById('queryInput').focus();
    return;
  }

  const overlay = document.getElementById('loadingOverlay');
  const stepEl = document.getElementById('loadingStep');
  overlay.classList.add('show');

  const steps = [
    'Fetching public data‚Ä¶',
    'Normalizing signal components‚Ä¶',
    'Applying Œ≥ transition weight‚Ä¶',
    'Computing benchmark comparison‚Ä¶',
    'Generating insights‚Ä¶'
  ];

  let si = 0;
  const stepInterval = setInterval(() => {
    if (si < steps.length) stepEl.textContent = steps[si++];
  }, 280);

  await new Promise(r => setTimeout(r, 1600));
  clearInterval(stepInterval);
  overlay.classList.remove('show');

  const entity = fuzzyMatch(query) || generateFallback(query, currentType);
  renderResults(entity);
}

function renderResults(entity) {
  const score = computeScore(entity.mv, entity.o, entity.ws, entity.ms);
  const rounded = Math.round(score * 100) / 100;
  const tier = getScoreTier(score);
  const percentile = getPercentile(score);
  const alignment = Math.round((entity.o * 0.6 + entity.ws * 0.4) * 0.9);

  // Show results, hide hero
  document.querySelector('.hero').style.display = 'none';
  const resultsEl = document.getElementById('results');
  resultsEl.style.display = 'block';

  // Header
  document.getElementById('entityName').textContent = entity.name;
  document.getElementById('entityType').textContent = entity.type.toUpperCase();
  document.getElementById('entityDesc').textContent = entity.desc;

  // Score display
  document.getElementById('scoreDisplay').textContent = rounded.toFixed(2);
  document.getElementById('scoreDisplay').className = 'score-number ' + tier.class;
  document.getElementById('stageText').textContent = tier.stage;

  // Gauge animation
  const pct = Math.min(1, score / 300);
  const circ = 408;
  const offset = circ - circ * pct;
  const gf = document.getElementById('gaugeFill');
  gf.style.stroke = score >= 250 ? 'var(--accent2)' : score >= 200 ? 'var(--accent)' : score >= 150 ? 'var(--gold)' : '#fb7185';
  setTimeout(() => { gf.style.strokeDashoffset = offset; }, 50);

  // Percentile bar
  document.getElementById('percentileVal').textContent = percentile + 'th';
  setTimeout(() => { document.getElementById('percentileBar').style.width = percentile + '%'; }, 50);

  // Alignment bar
  document.getElementById('alignmentVal').textContent = alignment + '%';
  setTimeout(() => { document.getElementById('alignmentBar').style.width = alignment + '%'; }, 50);

  // Components
  const comps = [
    { id: 'mv', bar: 'mvBar', val: entity.mv },
    { id: 'o', bar: 'oBar', val: entity.o },
    { id: 'ws', bar: 'wsBar', val: entity.ws },
    { id: 'ms', bar: 'msBar', val: entity.ms },
  ];
  comps.forEach(c => {
    document.getElementById(c.id + 'Val').textContent = c.val;
    setTimeout(() => { document.getElementById(c.bar).style.width = c.val + '%'; }, 100);
  });

  // Benchmarks
  const bmList = document.getElementById('benchmarkList');
  const allBenchmarks = [...BENCHMARKS];
  // Add current entity if not already in benchmarks
  const existingNames = allBenchmarks.map(b => b.name.toLowerCase());
  if (!existingNames.includes(entity.name.toLowerCase())) {
    allBenchmarks.push({ name: entity.name, score: rounded, color: 'var(--accent)', isCurrent: true });
  } else {
    const match = allBenchmarks.find(b => b.name.toLowerCase() === entity.name.toLowerCase());
    if (match) match.isCurrent = true;
  }
  allBenchmarks.sort((a, b) => b.score - a.score);
  const maxBm = Math.max(...allBenchmarks.map(b => b.score));

  bmList.innerHTML = allBenchmarks.map((bm, i) => `
    <div class="bm-row">
      <div class="bm-name ${bm.isCurrent ? 'current' : ''}">${bm.isCurrent ? '‚ñ∏ ' : ''}${bm.name}</div>
      <div class="bm-bar-track">
        <div class="bm-bar-fill" id="bm${i}" style="background:${bm.isCurrent ? 'linear-gradient(90deg,var(--accent),var(--accent2))' : (bm.color || 'var(--muted2)')}"></div>
      </div>
      <div class="bm-score ${bm.isCurrent ? tier.class : ''}">${bm.score.toFixed(1)}</div>
    </div>
  `).join('');

  // Animate benchmark bars
  allBenchmarks.forEach((bm, i) => {
    const pct = (bm.score / maxBm) * 100;
    setTimeout(() => {
      const el = document.getElementById('bm' + i);
      if (el) el.style.width = pct + '%';
    }, 100 + i * 50);
  });

  // Tips
  const tipKeys = entity.tips.length >= 2 ? entity.tips : ['Attention', 'Ownership'];
  // Pick 2 more contextual tips
  const extraTips = score < 200 ? ['Reinvention', 'AI Alignment'] : ['Influence', 'Credentials'];
  const allTips = [...new Set([...tipKeys, ...extraTips])].slice(0, 4);
  const tipsGrid = document.getElementById('tipsGrid');
  tipsGrid.innerHTML = allTips.map(key => {
    const tip = TIPS_DB[key] || TIPS_DB['Attention'];
    return `
      <div class="tip-card">
        <div class="tip-icon">${tip.icon}</div>
        <div class="tip-title">${tip.title}</div>
        <div class="tip-text">${tip.text}</div>
      </div>
    `;
  }).join('');

  // Scroll to results
  window.scrollTo({ top: 0, behavior: 'smooth' });

  // Animate all animate-in elements
  document.querySelectorAll('.animate-in').forEach((el, i) => {
    el.style.animationDelay = (0.05 * i) + 's';
    el.style.opacity = '0';
    void el.offsetWidth; // reflow
    el.style.animation = 'none';
    void el.offsetWidth;
    el.style.animation = '';
    el.style.animationDelay = (0.1 + 0.1 * i) + 's';
    el.style.animation = `fadeUp 0.5s ease ${0.1 + 0.1 * i}s forwards`;
  });
}
</script>
</body>
</html>
